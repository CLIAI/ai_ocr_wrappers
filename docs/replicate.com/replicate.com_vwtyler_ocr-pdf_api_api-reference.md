Title: vwtyler/ocr-pdf – Replicate

URL Source: https://replicate.com/vwtyler/ocr-pdf/api/api-reference

Markdown Content:
vwtyler/ocr-pdf – API reference
===============

======================================

## [vwtyler](https://replicate.com/vwtyler) / ocr-pdf

simple pdf to text from a url using tesseract

### When using via Replicate API

python:

#### Create prediction without webhook

Create a prediction

predictions.create

Headers

- Preferstring
    
    Leave the request open and wait for the model to finish generating output. Set to `wait=n` where n is a number of seconds between 1 and 60.
    
    See https://replicate.com/docs/topics/predictions/create-a-prediction#sync-mode for more information.
    
    Show more
    

Request body

- inputobjectRequired
    
    The model's input as a JSON object. The input schema depends on what model you are running. To see the available inputs, click the "API" tab on the model you are running or [get the model version](https://replicate.com/vwtyler/ocr-pdf/api/api-reference#models.versions.get) and look at its `openapi_schema` property. For example, [stability-ai/sdxl](https://replicate.com/stability-ai/sdxl) takes `prompt` as an input.
    
    Files should be passed as HTTP URLs or data URLs.
    
    Use an HTTP URL when:
    
    - you have a large file > 256kb
    - you want to be able to use the file multiple times
    - you want your prediction metadata to be associable with your input files
    
    Use a data URL when:
    
    - you have a small file <= 256kb
    - you don't want to upload and host the file somewhere
    - you don't need to use the file again (Replicate will not store it)
    
    Show more
    
- versionstringRequired
    
    The ID of the model version that you want to run.
    
- webhookstring
    
    An HTTPS URL for receiving a webhook when the prediction has new output. The webhook will be a POST request where the request body is the same as the response body of the [get prediction](https://replicate.com/vwtyler/ocr-pdf/api/api-reference#predictions.get) operation. If there are network problems, we will retry the webhook a few times, so make sure it can be safely called more than once. Replicate will not follow redirects when sending webhook requests to your service, so be sure to specify a URL that will resolve without redirecting.
    
    Show more
    
- webhook\_events\_filterarray
    
    By default, we will send requests to your webhook URL whenever there are new outputs or the prediction has finished. You can change which events trigger webhook requests by specifying `webhook_events_filter` in the prediction request:
    
    - `start`: immediately on prediction start
    - `output`: each time a prediction generates an output (note that predictions can generate multiple outputs)
    - `logs`: each time log output is generated by a prediction
    - `completed`: when the prediction reaches a terminal state (succeeded/canceled/failed)
    
    For example, if you only wanted requests to be sent at the start and end of the prediction, you would provide:
    
    ```json
    {
      "version": "5c7d5dc6dd8bf75c1acaa8565735e7986bc5b66206b55cca93cb72c9bf15ccaa",
      "input": {
        "text": "Alice"
      },
      "webhook": "https://example.com/my-webhook",
      "webhook_events_filter": ["start", "completed"]
    }
    ```
    
    Requests for event types `output` and `logs` will be sent at most once every 500ms. If you request `start` and `completed` webhooks, then they'll always be sent regardless of throttling.
    
    Show more
    

Examples

Create

Create a prediction and get the output

Webhooks

Create a new prediction using webhooks

Make a request

post/predictions

```python
import replicate

input = {
    "url": "https://www.cdss.ca.gov/Portals/9/Additional-Resources/Letters-and-Notices/ACINs/2024/I-35_24.pdf"
}

output = replicate.run(
    "vwtyler/ocr-pdf:58ec1f1841086ea5328423edc70a0130eb680ffbc8dec4cf8915fc76eee235ef",
    input=input
)
print(output)
#=> "\n--- Page 1 ---\nJuly 19, 2024\n\nCALIFORNIA DEPARTMENT...
```

### Create prediction with webook

Create a prediction

predictions.create

Headers

- Preferstring
    
    Leave the request open and wait for the model to finish generating output. Set to `wait=n` where n is a number of seconds between 1 and 60.
    
    See https://replicate.com/docs/topics/predictions/create-a-prediction#sync-mode for more information.
    
    Show more
    

Request body

- inputobjectRequired
    
    The model's input as a JSON object. The input schema depends on what model you are running. To see the available inputs, click the "API" tab on the model you are running or [get the model version](https://replicate.com/vwtyler/ocr-pdf/api/api-reference#models.versions.get) and look at its `openapi_schema` property. For example, [stability-ai/sdxl](https://replicate.com/stability-ai/sdxl) takes `prompt` as an input.
    
    Files should be passed as HTTP URLs or data URLs.
    
    Use an HTTP URL when:
    
    - you have a large file > 256kb
    - you want to be able to use the file multiple times
    - you want your prediction metadata to be associable with your input files
    
    Use a data URL when:
    
    - you have a small file <= 256kb
    - you don't want to upload and host the file somewhere
    - you don't need to use the file again (Replicate will not store it)
    
    Show more
    
- versionstringRequired
    
    The ID of the model version that you want to run.
    
- webhookstring
    
    An HTTPS URL for receiving a webhook when the prediction has new output. The webhook will be a POST request where the request body is the same as the response body of the [get prediction](https://replicate.com/vwtyler/ocr-pdf/api/api-reference#predictions.get) operation. If there are network problems, we will retry the webhook a few times, so make sure it can be safely called more than once. Replicate will not follow redirects when sending webhook requests to your service, so be sure to specify a URL that will resolve without redirecting.
    
    Show more
    
- webhook\_events\_filterarray
    
    By default, we will send requests to your webhook URL whenever there are new outputs or the prediction has finished. You can change which events trigger webhook requests by specifying `webhook_events_filter` in the prediction request:
    
    - `start`: immediately on prediction start
    - `output`: each time a prediction generates an output (note that predictions can generate multiple outputs)
    - `logs`: each time log output is generated by a prediction
    - `completed`: when the prediction reaches a terminal state (succeeded/canceled/failed)
    
    For example, if you only wanted requests to be sent at the start and end of the prediction, you would provide:
    
    ```json
    {
      "version": "5c7d5dc6dd8bf75c1acaa8565735e7986bc5b66206b55cca93cb72c9bf15ccaa",
      "input": {
        "text": "Alice"
      },
      "webhook": "https://example.com/my-webhook",
      "webhook_events_filter": ["start", "completed"]
    }
    ```
    
    Requests for event types `output` and `logs` will be sent at most once every 500ms. If you request `start` and `completed` webhooks, then they'll always be sent regardless of throttling.
    
    Show more
    

Create a prediction and get the output

Create a new prediction using webhooks

post/predictions

```python
import replicate

input = {
    "url": "https://www.cdss.ca.gov/Portals/9/Additional-Resources/Letters-and-Notices/ACINs/2024/I-35_24.pdf"
}

callback_url = "https://my.app/webhooks/replicate"
replicate.predictions.create(
    version="58ec1f1841086ea5328423edc70a0130eb680ffbc8dec4cf8915fc76eee235ef",
    input=input,
    webhook=callback_url,
    webhook_events_filter=["completed"]
)

# The server will now handle the event and log:
#=> Prediction(id='z3wbih3bs64of7lmykbk7tsdf4', ...)
```

#### Get prediction

Get a prediction

predictions.get

Input parameters

- prediction\_idstringRequired
    
    The ID of the prediction to get.
    

Get the latest version of a prediction by id

Make a request

get/predictions/{prediction\_id}

```python
import replicate

prediction = replicate.predictions.get(prediction_id)
print(prediction)
#=> Prediction(id="xyz...", status="successful", ... )
```

#### Get a prediction

Get a prediction

predictions.get

Input parameters

- prediction\_idstringRequired
    
    The ID of the prediction to get.
    

Get the latest version of a prediction by id

get/predictions/{prediction\_id}

```python
import replicate

prediction = replicate.predictions.get(prediction_id)
print(prediction)
#=> Prediction(id="xyz...", status="successful", ... )
```

#### Cancel prediction

Cancel a prediction

predictions.cancel

Input parameters

- prediction\_idstringRequired
    
    The ID of the prediction to cancel.
    

Examples

Cancel

Cancel an in progress prediction

post/predictions/{prediction\_id}/cancel

```python
import replicate

prediction = replicate.predictions.get(prediction_id)
prediction.cancel()
print(prediction)
#=> Prediction(id="xyz...", status="canceled", ... )
```

#### List predictions

List predictions

predictions.list
Examples

List the first page of your predictions


Paginate

```
/predictions
import replicate

predictions = replicate.predictions.list()
print(predictions.results)
#=> [Prediction(id="xyz...", status="successful", ... ), Prediction(id="abc...", status="successful", ... )]
```
